"""\nQuick API Test - Simple one-command checker\nRun: python quick_api_test.py\n"""\n\nimport requests\nimport sys\nfrom colorama import Fore, Style, init\nfrom config import Config\nfrom database import Database\n\ninit(autoreset=True)\n\ndef quick_test():\n    """Quick API test in one command"""\n    print(f"\\n{Fore.CYAN}{'='*50}")\n    print(f"{Fore.CYAN}⚡ QUICK API TEST".center(50))\n    print(f"{Fore.CYAN}{'='*50}{Style.RESET_ALL}\\n")\n    \n    api_url = Config.API_BASE_URL\n    db = Database()\n    \n    # Test 1: API Gateway\n    print(f"{Fore.YELLOW}[1/4] Testing API Gateway...{Style.RESET_ALL}", end=" ")\n    try:\n        response = requests.get(f"{api_url}/health", timeout=5)\n        if response.status_code == 200:\n            print(f"{Fore.GREEN}✅ UP{Style.RESET_ALL}")\n        else:\n            print(f"{Fore.RED}❌ DOWN{Style.RESET_ALL}")\n            return False\n    except:\n        print(f"{Fore.RED}❌ UNREACHABLE{Style.RESET_ALL}")\n        return False\n    \n    # Test 2: Database\n    print(f"{Fore.YELLOW}[2/4] Testing Database...{Style.RESET_ALL}", end=" ")\n    try:\n        stats = db.get_stats()\n        if stats:\n            print(f"{Fore.GREEN}✅ CONNECTED{Style.RESET_ALL}")\n        else:\n            print(f"{Fore.RED}❌ FAILED{Style.RESET_ALL}")\n            return False\n    except:\n        print(f"{Fore.RED}❌ FAILED{Style.RESET_ALL}")\n        return False\n    \n    # Test 3: API Key\n    print(f"{Fore.YELLOW}[3/4] Testing API Key System...{Style.RESET_ALL}", end=" ")\n    try:\n        test_key = db.api_keys.find_one({'is_active': True})\n        if test_key:\n            response = requests.post(\n                f"{api_url}/validate",\n                headers={"X-API-Key": test_key['api_key']},\n                timeout=5\n            )\n            if response.status_code == 200:\n                print(f"{Fore.GREEN}✅ WORKING{Style.RESET_ALL}")\n            else:\n                print(f"{Fore.RED}❌ FAILED{Style.RESET_ALL}")\n                return False\n        else:\n            print(f"{Fore.YELLOW}⚠️  NO KEYS{Style.RESET_ALL}")\n    except:\n        print(f"{Fore.RED}❌ FAILED{Style.RESET_ALL}")\n        return False\n    \n    # Test 4: Chat\n    print(f"{Fore.YELLOW}[4/4] Testing Chat Endpoint...{Style.RESET_ALL}", end=" ")\n    try:\n        if test_key:\n            response = requests.post(\n                f"{api_url}/chat",\n                headers={"X-API-Key": test_key['api_key']},\n                json={"question": "test"},\n                timeout=15\n            )\n            if response.status_code == 200 and response.json().get('success'):\n                print(f"{Fore.GREEN}✅ WORKING{Style.RESET_ALL}")\n            else:\n                print(f"{Fore.RED}❌ FAILED{Style.RESET_ALL}")\n                return False\n        else:\n            print(f"{Fore.YELLOW}⚠️  SKIPPED{Style.RESET_ALL}")\n    except:\n        print(f"{Fore.RED}❌ FAILED{Style.RESET_ALL}")\n        return False\n    \n    # Summary\n    print(f"\\n{Fore.GREEN}{'='*50}")\n    print(f"{Fore.GREEN}✅ ALL SYSTEMS OPERATIONAL".center(50))\n    print(f"{Fore.GREEN}{'='*50}{Style.RESET_ALL}\\n")\n    \n    # Quick stats\n    print(f"{Fore.CYAN}Quick Stats:{Style.RESET_ALL}")\n    print(f"  Users: {stats.get('total_users', 0)}")\n    print(f"  Active Keys: {stats.get('active_keys', 0)}")\n    print(f"  Total Requests: {stats.get('total_requests', 0)}\\n")\n    \n    return True\n\n\nif __name__ == "__main__":\n    try:\n        success = quick_test()\n        sys.exit(0 if success else 1)\n    except KeyboardInterrupt:\n        print(f"\\n{Fore.YELLOW}Test cancelled{Style.RESET_ALL}\\n")\n        sys.exit(1)\n